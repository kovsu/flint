---
import markdownIt from "markdown-it";
import { getRuleForPlugin } from "./getRuleForPlugin";

interface Props {
	plugin: string;
	rule: string;
}

const renderer = markdownIt();
const rule = getRuleForPlugin(Astro.props.plugin, Astro.props.rule);
---

<blockquote>
	<Fragment set:html={renderer.render(rule.about.description)} />
</blockquote>

<blockquote>
	âœ… This rule is included in the {Astro.props.plugin}{" "}
	{
		rule.about.presets?.map((preset, i) => (
			<>
				{i !== 0 && " and "}
				<a href={`/rules/${Astro.props.plugin}#${preset}`}>
					<code>{preset}</code>
				</a>
			</>
		))
	}preset{rule.about.presets?.length ? "s" : ""}.
</blockquote>

<style>
	a {
		display: inline-block;
	}
</style>
